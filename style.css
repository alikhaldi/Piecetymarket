:root {
  --color-bg: #f7fafc;
  --color-bg-dark: #111827;
  --color-primary: #2563eb;
  --color-scroll-track: #f1f1f1;
  --color-scroll-track-dark: #2d3748;
  --color-scroll-thumb: #888;
  --color-scroll-thumb-hover: #555;
  --color-card-hover: rgba(0,0,0,0.1);
  --color-card-hover-dark: rgba(255,255,255,0.1);
  --color-accent: #dbeafe;
  --color-accent-dark: #374151;
}

body {
  font-family: 'Inter', 'Noto Sans Arabic', sans-serif;
  background-color: var(--color-bg);
  font-size: 1rem;
}

body.dark {
  background-color: var(--color-bg-dark);
}

::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--color-scroll-track); }
body.dark ::-webkit-scrollbar-track { background: var(--color-scroll-track-dark); }
::-webkit-scrollbar-thumb { background: var(--color-scroll-thumb); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--color-scroll-thumb-hover); }

:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
  border-radius: 4px;
}

button, a, [role="button"] {
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

.modal, #mobile-menu-backdrop { transition: opacity 0.3s ease, visibility 0.3s ease; }
#mobile-menu { transition: transform 0.3s ease-in-out; }

.category-card { transition: transform 0.2s ease, box-shadow 0.2s ease; }
.category-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px var(--color-card-hover); }
body.dark .category-card:hover { box-shadow: 0 10px 15px var(--color-card-hover-dark); }
.category-card .category-icon { transition: transform 0.2s ease, background-color 0.2s ease; }
.category-card:hover .category-icon { transform: scale(1.1); background-color: var(--color-accent); }
body.dark .category-card:hover .category-icon { background-color: var(--color-accent-dark); }

.skeleton-card { background: #fff; border-radius: 8px; padding: 16px; margin-bottom: 16px; }
body.dark .skeleton-card { background: #1f2937; }
.skeleton-image {
  height: 200px;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
  border-radius: 4px;
}
body.dark .skeleton-image {
  background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
  background-size: 200% 100%;
}
.skeleton-text { height: 16px; background: #f0f0f0; margin: 12px 0; border-radius: 4px; animation: loading 1.5s infinite; }
body.dark .skeleton-text { background: #4b5563; }
.skeleton-text.short { width: 60%; }

@keyframes loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

@media (max-width: 768px) {
  main { padding-bottom: 5rem; }
  input, select, textarea { font-size: 16px; }
  #dynamic-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 12px; }
  #mobile-menu { width: 80%; max-width: 320px; }
  #mobile-nav-links a, #mobile-nav-links button { padding: 1rem; font-size: 1.125rem; }
}

@media (max-width: 480px) {
  #search-input { padding: 0.6rem 2.5rem 0.6rem 2.2rem; font-size: 15px; }
  .fa-search.absolute { left: 0.8rem; }
}

html[dir="rtl"] { text-align: right; }
html[dir="rtl"] .fa-search.absolute { right: 0.75rem; left: auto; }
html[dir="rtl"] #search-input { padding-right: 2.5rem; padding-left: 0.75rem; }
html[dir="rtl"] .logo svg { margin-left: 0.5rem; margin-right: 0; }
